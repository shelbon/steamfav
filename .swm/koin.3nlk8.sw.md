---
id: 3nlk8
title: KOIN
file_version: 1.1.1
app_version: 1.0.20
---

Koin provides an easy and efficient way to inject dependency into any Kotlin application(Multiplatform, Android, backend ...)

The goals of Koin are:

*   Simplify your Dependency Injection infrastructure with smart API
    
*   Kotlin DSL is easy to read, easy to use, to let you write any application
    
*   Provides a different kind of integration from the Android ecosystem, to more backend needs like Ktor
    
*   Allow being used with annotations
    

## Setup

module level gradle file

```
grdependencies {

    implementation "io.insert-koin:koin-android:$koin_android_version"
}
```

and In the application class

<br/>

<br/>


<!-- NOTE-swimm-snippet: the lines below link your snippet to Swimm -->
### ðŸ“„ app/src/main/java/com/groupe5/steamfav/SteamFavApp.kt
```kotlin
12     class SteamFavApp : Application() {
13         override fun onCreate() {
14             super.onCreate()
15             if (BuildConfig.DEBUG) {
16                 plant(DebugTree())
17             }
18             startKoin{
19                 androidLogger()
20                 androidContext(this@SteamFavApp)
21                 modules(appModule)
22             }
23         }
24     }
```

<br/>

<br/>

## Koin module

add module

<br/>

<br/>

global module importing other modules with `includes` declare viewModel to be injected with `viewModelOf`
<!-- NOTE-swimm-snippet: the lines below link your snippet to Swimm -->
### ðŸ“„ app/src/main/java/com/groupe5/steamfav/di/appModule.kt
```kotlin
11     val appModule = module {
12         includes(
13             networkModule,
14             dataModule
15         )
16         viewModelOf(::HomeViewModel)
17         viewModelOf(::SearchViewModel)
18         viewModelOf(::GameDetailsViewModel)
19     }
```

<br/>

declare singleton instance of a class with `singleOf`
<!-- NOTE-swimm-snippet: the lines below link your snippet to Swimm -->
### ðŸ“„ app/src/main/java/com/groupe5/steamfav/data/di/dataModule.kt
```kotlin
9      val dataModule= module{
10         includes(
11             networkModule
12         )
13         singleOf(::GamesRepository){
14             bind<com.groupe5.steamfav.data.abstraction.GamesRepository>()
15         }
16     }
17     
```

<br/>

declare singleton instance of a class with `singleOf`
<!-- NOTE-swimm-snippet: the lines below link your snippet to Swimm -->
### ðŸ“„ app/src/main/java/com/groupe5/steamfav/network/di/networkModule.kt
```kotlin
11     val networkModule = module {
12         singleOf(::SteamWorksWebNetwork) { bind<SteamWorksWebDataSource>() }
13         singleOf(::SteamStoreNetwork) { bind<SteamStoreDataSource>() }
14     }
15     
```

<br/>

<br/>

## Injecting ViewModels

<br/>

<br/>

<br/>

import to add
<!-- NOTE-swimm-snippet: the lines below link your snippet to Swimm -->
### ðŸ“„ app/src/main/java/com/groupe5/steamfav/ui/fragments/GameDetailsFragment.kt
```kotlin
15     import org.koin.androidx.viewmodel.ext.android.viewModel
```

<br/>

by viewModel create automatically viewModelFactory/viewModel
<!-- NOTE-swimm-snippet: the lines below link your snippet to Swimm -->
### ðŸ“„ app/src/main/java/com/groupe5/steamfav/ui/fragments/GameDetailsFragment.kt
```kotlin
20         private val viewModel: GameDetailsViewModel by viewModel()
```

<br/>

This file was generated by Swimm. [Click here to view it in the app](https://app.swimm.io/repos/Z2l0aHViJTNBJTNBc3RlYW1mYXYlM0ElM0FzaGVsYm9u/docs/3nlk8).

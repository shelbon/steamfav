---
id: 3nlk8
title: KOIN
file_version: 1.1.1
app_version: 1.0.20
---

Koin provides an easy and efficient way to inject dependency into any Kotlin application(Multiplatform, Android, backend ...)

The goals of Koin are:

*   Simplify your Dependency Injection infrastructure with smart API
    
*   Kotlin DSL is easy to read, easy to use, to let you write any application
    
*   Provides a different kind of integration from the Android ecosystem, to more backend needs like Ktor
    
*   Allow being used with annotations
    

## Setup

module level gradle file

```
grdependencies {

    implementation "io.insert-koin:koin-android:$koin_android_version"
}
```

and In the application class

<br/>

<!-- NOTE-swimm-snippet: the lines below link your snippet to Swimm -->
### ðŸ“„ app/src/main/java/com/groupe5/steamfav/SteamFavApp.kt
```kotlin
12     class SteamFavApp : Application() {
13         override fun onCreate() {
14             super.onCreate()
15             if (BuildConfig.DEBUG) {
16                 plant(DebugTree())
17             }
18             startKoin{
19                 androidLogger()
20                 androidContext(this@SteamFavApp)
21                 modules(appModule)
22             }
23         }
24     }
```

<br/>

<br/>

## Koin module

add module

<br/>

<br/>

global module importing other modules with `includes` declare viewModel to be injected with `viewModelOf`
<!-- NOTE-swimm-snippet: the lines below link your snippet to Swimm -->
### ðŸ“„ app/src/main/java/com/groupe5/steamfav/di/appModule.kt
```kotlin
13     val appModule = module {
14         includes(
15             networkModule,
16             dataModule
17         )
18         viewModelOf(::HomeViewModel)
19         viewModelOf(::SearchViewModel)
20         viewModelOf(::GameDetailsViewModel)
21         viewModelOf(::UserDataViewModel)
22         viewModelOf(::AuthViewModel)
23     }
```

<br/>

declare singleton instance of a class with `singleOf`
<!-- NOTE-swimm-snippet: the lines below link your snippet to Swimm -->
### ðŸ“„ app/src/main/java/com/groupe5/steamfav/data/di/dataModule.kt
```kotlin
15     val dataModule = module {
16         includes(
17             networkModule
18         )
19     
20         singleOf(::GamesRepository){
21             bind<com.groupe5.steamfav.data.abstraction.GamesRepository>()
22         }
23         singleOf(::AuthRepository){
24             bind<com.groupe5.steamfav.data.abstraction.AuthRepository>()
25         }
```

<br/>

declare singleton instance of a class with `singleOf`
<!-- NOTE-swimm-snippet: the lines below link your snippet to Swimm -->
### ðŸ“„ app/src/main/java/com/groupe5/steamfav/network/di/networkModule.kt
```kotlin
13     val networkModule = module {
14         singleOf(::SteamWorksWebNetwork) { bind<SteamWorksWebDataSource>() }
15         singleOf(::SteamStoreNetwork) { bind<SteamStoreDataSource>() }
16         singleOf(::SteamCommunityNetwork) { bind<SteamCommunityDataSource>() }
17     }
```

<br/>

<br/>

## Injecting ViewModels

<br/>

<br/>

<br/>

import to add
<!-- NOTE-swimm-snippet: the lines below link your snippet to Swimm -->
### ðŸ“„ app/src/main/java/com/groupe5/steamfav/ui/fragments/GameDetailsFragment.kt
```kotlin
33     import org.koin.androidx.viewmodel.ext.android.viewModel
```

<br/>

by viewModel create automatically viewModelFactory/viewModel
<!-- NOTE-swimm-snippet: the lines below link your snippet to Swimm -->
### ðŸ“„ app/src/main/java/com/groupe5/steamfav/ui/fragments/GameDetailsFragment.kt
```kotlin
40         private val gameDetailsViewModel: GameDetailsViewModel by viewModel()
```

<br/>

This file was generated by Swimm. [Click here to view it in the app](https://app.swimm.io/repos/Z2l0aHViJTNBJTNBc3RlYW1mYXYlM0ElM0FzaGVsYm9u/docs/3nlk8).
